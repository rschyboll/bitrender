{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "$(gear) Build bpy",
            "type": "shell",
            "command": "./scripts/build_bpy.sh",
            "args" : ["${input:version}"],
            "options": {
                "statusbar": {
                    "color": "#ffcfb9"
                },
                "cwd": "${workspaceFolder}"
            }
        },
        {
            "label": "$(terminal-view-icon) Install bpy",
            "type": "shell",
            "command": "./scripts/install_bpy_venv.sh",
            "args": ["${input:pythonFolder}"],
            "options": {
                "statusbar": {
                    "color": "#ffb9b9"
                },
                "cwd": "${workspaceFolder}"
            }
        },
        {
            "label": "||",
            "command": "./scripts/pass.sh",
            "args": ["0"]
        },
        {
            "label": "$(notebook-execute) Run client",
            "type": "shell",
            "command": "${config:python.pythonPath} main.py",
            "options": {
                "statusbar": {
                    "color": "#b9beff"
                },
                "cwd": "${workspaceFolder}/client/backend/src/"
            },
        },
        {
            "label": "$(test-view-icon) Test client",
            "type": "shell",
            "command": "${config:python.pythonPath} -m pytest",
            "options": {
                "statusbar": {
                    "color": "#b9ffb9"
                },
                "cwd": "${workspaceFolder}/client/backend"
            },
        },
        {
            "label": "||",
            "command": "./scripts/pass.sh",
            "args": ["1"]
        },
        {
            "label": "$(notebook-execute) Run",
            "type": "shell",
            "command": "${config:python.pythonPath} -m uvicorn main:app --reload",
            "options": {
                "statusbar": {
                    "color": "#b9beff"
                },
                "cwd": "${workspaceFolder}/server/backend/src"
            },
        },
        {
            "label": "$(test-view-icon) Test",
            "type": "shell",
            "command": "${config:python.pythonPath} -m pytest",
            "options": {
                "statusbar": {
                    "color": "#b9ffb9"
                },
                "cwd": "${workspaceFolder}/server/backend"
            },
        },
        {
            "label": "$(database) Db model",
            "type": "shell",
            "command": "pgmodeler ${workspaceRoot}/server/database/server_model.dbm",
            "options": {
                "statusbar": {
                    "color": "#fffeb9"
                },
            },
        },
        {
            "label": "$(refresh) Db reload",
            "type": "shell",
            "command": "../../scripts/server_db_reload.sh",
            "options": {
                "statusbar": {
                    "color": "#fffeb9"
                },
                "cwd": "${workspaceFolder}/server/database"
            },
        },
        {
            "label": "$(preview) Db view",
            "type": "shell",
            "command": "pgadmin4",
            "options": {
                "statusbar": {
                    "color": "#fffeb9"
                },
                "cwd": "${workspaceFolder}/server/database"
            },
        },
        {
            "label": "||",
            "command": "./scripts/pass.sh",
            "args": ["2"]
        },
    ],
    "inputs" : [
        {
            "id" : "version",
            "type": "pickString",
            "description" : "Blender version",
            "options" : ["v2.90.1"],
            "default" : "v2.90.1"
        },
        {
            "id" : "pythonFolder",
            "type" :"promptString",
            "description": "Input python site-packages location."
        }
    ]
}